# Veo Studio Master

Ein Python-basiertes Video-Editing-Tool mit GUI, spezialisiert auf das schnelle ZusammenfÃ¼gen und Bearbeiten von MP4-Clips (z.B. von Google Veo).

## Projekt-Kontext

Vorgify ist ein High-Performance Video-Automatisierungstool (Merge, Speed, Reverse) auf Basis von `customtkinter` (GUI) und `moviepy` (Engine), optimiert fÃ¼r Windows (NVMe/Ryzen).

## EntwicklungsgrundsÃ¤tze (Code)

- **Naming:** Das Projekt heiÃŸt "Vorgify". Alle Titel und Labels in der GUI mÃ¼ssen diesen Namen verwenden.
- **UI StabilitÃ¤t:** Der Bereich `detail_container` (rechte Seite) muss eine feste HÃ¶he behalten, um Layout-SprÃ¼nge zu verhindern. Nutze `pack_propagate(False)` auf dem Parent-Frame.
- **GC Safety (WICHTIG):** Halte Bildreferenzen (z.B. Thumbnails in `ctk.CTkImage`) ZWINGEND in Instanz-Variablen (z.B. `self.current_image_ref`), sonst werden sie vom Garbage Collector gelÃ¶scht, was zu AbstÃ¼rzen fÃ¼hrt ("pyimage doesn't exist").
- **Threading:** Rendering-Aufrufe an MoviePy (`write_videofile`) dÃ¼rfen NIEMALS im Main-Thread laufen, da sonst die GUI einfriert. Nutze immer `threading.Thread`.
- **Code Standards** Folge immeer den GrundsÃ¤tzen KISS und DRY.

## Progress & Cancel Logik

- Der Fortschritt wird Ã¼ber einen eigenen Logger (`MyBarLogger` Klasse) von MoviePy an die CustomTkinter-ProgressBar Ã¼bergeben. GUI-Updates mÃ¼ssen via `.after()` in den Main-Thread geschoben werden.
- Das Abbrechen ("Cancel") wird Ã¼ber ein `threading.Event` (z.B. `self.cancel_event`) gesteuert. Die Render-Schleife und der Logger mÃ¼ssen dieses Event regelmÃ¤ÃŸig prÃ¼fen und bei Aktivierung sofort terminieren.

## Code-Stil

- Kommentare: Englisch.
- GUI-Texte: Englisch and German seperated in a trnalation file.
- Architektur: Strikte Trennung von GUI-Aufbau (`__init__`, `setup_ui`) und Business-Logik (Event-Handler, Rendering-Funktionen).

## Build & Deployment (NEU & KRITISCH)

- **Single Source of Truth:** Das Erstellen der auslieferbaren Windows-EXE erfolgt AUSSCHLIESSLICH durch AusfÃ¼hren der Datei `make.bat`. Versuche nicht, eigene PyInstaller-Befehle zu erfinden.
- **Versionierung:** Das Skript enthÃ¤lt die Variablen `__version__` und `__author__`. Diese mÃ¼ssen bei jeder Ã„nderung aktualisiert werden. Zeige die Versionsnummer im About Fenster an.
- **PyInstaller Requirements:** Falls die `make.bat` angepasst werden muss, beachte zwingend:
    1. **Metadaten:** Es MÃœSSEN die Argumente `--copy-metadata=imageio` und `--copy-metadata=moviepy` verwendet werden. Ohne diese stÃ¼rzt die EXE beim Start mit `importlib.metadata.PackageNotFoundError` ab.
    2. **Icon:** Das App-Icon ist `vorgify_logo.ico`.
    3. **Konsole:** Nutze `--noconsole` fÃ¼r einen sauberen GUI-Start.
    4. **Versionierung:** Nutze die Variablen `__version__` um der finalen .exe Datei einen Suffix mit der Versionsnummer zu geben. z.B. `vorgify_v1.0.0.exe`.

## ðŸš€ Status Quo

Das Skript `vorgify_app.py` ist eine voll funktionsfÃ¤hige `customtkinter` Anwendung.

**Aktuelle Features:**

- **Auto-Import:** Liest automatisch alle `.mp4` Dateien im Ordner.
- **Batch-Verarbeitung:** ZusammenfÃ¼gen (Concatenate) mit Crossfades.
- **Individuelle Kontrolle:** Speed & Reverse pro Clip einstellbar.
- **Globale Effekte:** Global Speed, Fade In/Out, Ãœberblenddauer.
- **GUI:** Dark Mode, Vorschaubilder (Smart-Crop), Drag&Drop-Ersatz durch Sortier-Buttons.
- **Performance:** Multithreading Rendering mit `moviepy` und `proglog` Integration fÃ¼r Progress-Bar.
- **Selection:** Checkboxen zum An-/AbwÃ¤hlen einzelner Clips.
- **Time Calculation:** Echtzeit-Berechnung der voraussichtlichen VideolÃ¤nge.

## ðŸ›  Tech Stack

- **Python 3.10+**
- **GUI:** `customtkinter`, `tkinter`, `Pillow` (PIL)
- **Video Engine:** `moviepy` (v1.0.3 oder kompatibel), `proglog`
- **System:** Windows optimiert (NVMe Support Logik)

## ðŸ“‹ To-Do / Bekannte Issues

1. **UI Glitches:** Manchmal verschwinden Elemente im Detail-Panel (rechter Bereich), wenn man wild zwischen Clips wechselt. Die `.pack()` Logik muss robust geprÃ¼ft werden.
2. **Audio:** Das Rendern von Audio bei sehr vielen Clips kann hÃ¤ngen (MoviePy `chunk` Problem).
3. **Memory:** Vorschaubilder werden gecacht, Garbage Collection muss sauber laufen (`self.current_image`).

## ðŸ“¦ Installation

```bash
pip install moviepy customtkinter pillow proglog
```

## ðŸŽ® Bedienung

1. Skript im Ordner mit den Videos starten.
2. Clips auswÃ¤hlen/abwÃ¤hlen (Checkboxen).
3. Klick auf Clip Ã¶ffnet Details (Rechts): Speed, Reverse, Sortierung.
4. Unten: Global Speed und Fades einstellen.
5. "Start Rendering" -> Warten bis der Progress-Balken voll ist.
